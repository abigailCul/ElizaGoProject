<!-- Html page for Eliza
Abigail Culkin 
 Ref: http://getbootstrap.com/
-->
<!doctype html>
<html lang="en">
  <head>
    <title>Welcome to Eliza chatbot</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
  </head>
  <body>
  
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="#">Eliza</a>
  </nav>
  <div class="container-fluid" id="chat">
    {{.Message}}
  <ul class="list-group">
  <li class="list-group-item list-group-item-secondary"  >Hi I am Eliza, Want to talk?</li> <!-- Different colour for eliza-->
	<li class="list-group-item" id="yourInput"  ></li>
</ul>
</div>

  <!-- Wrap text bos in container fluid-->
  <form action="" >
  <div class="fixed-bottom">
	<div class="container-fluid">
    <input name="userInput" type="text" class="form-control" id="userInput" aria-describedby="emailHelp" placeholder="Talk to Eliza">
</div>
</div>
</form>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
 
<script>
/*$("userInput").keyPress(function (e) {});*/

const form = $("#userInput");
const list = $("#yourInput");

//Key function press enter to send your message
form.keypress(function(event){
    if(event.keyCode != 13){ 
        return;
    }

    event.preventDefault(); // Wont refresh

    const yourInput = form.val(); // get the text from the input form and will clear your input box
    form.val(" "); 
    
    // Your input message will appear on the screen
    //Will see your message as You:
    list.append("<li class='list-group-item list-group-item'>"+"You : " + yourInput + "</li>");

    // GET/POST
   /* const queryParams = {"userInput" : yourInput }
    jQuery.get("/Chat", queryParams)
        .done(function(response){
            const elizaResp = "<li class='list-group-item list-secondary' >"+"ELiza : " + elizaResp + "</li>";
            setTimeout(function(){
                list.append(elizaResp)
            }, 1000);
        }).fail(function(){
            const elizaResp = "<li class='list-group-item list-group-item-secondary' >Not Here</li>";
            list.append(elizaResp);
        });*/
});
</script>
 </body>
</html>